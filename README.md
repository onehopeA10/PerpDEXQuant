# onehopeA9的对冲工具 使用说明

第二季，官方明确抓女巫，请大家合理使用，过度使用，得不偿失。

欢迎不差返佣的走我的链接：https://www.asterdex.com/zh-CN/referral/28020d  
要么还是别走链接 直接转账吧。 开源不易，感谢支持。

给不会程序的朋友已经打包成exe了，放在dist目录下，下载后配置好就行，不要修改用户名！！

api申请在 官网 更多菜单下面，创建后把两个 秘钥按顺序填入配置页面。

EVM:0xbac0e062e2615f67b1d2eaa8fc34a7e52dcf13cc

SOL:643sqQznYoH9iPgACyMPVL1cvSdnEH9kgATWHpAZmfdS 

## 🚀 功能特点

### 核心功能
- 🎨 **现代化界面**：基于ttkbootstrap的美观UI设计
- 📊 **实时监控**：实时显示价格、资金费率、账户状态
- ⚙️ **可视化配置**：在界面中直接配置API和交易参数
- 📈 **仪表盘显示**：直观的仪表盘展示交易数据
- 💼 **一键打包**：支持打包成独立exe文件
- 🔒 **安全设计**：配置文件本地保存，不随exe分发

### 新增增强功能
- 📝 **增强日志系统**：支持日志分级、文件轮转、搜索和导出
- 📊 **交易历史记录**：完整的交易记录存储、统计分析和CSV导出
- ⚠️ **风险管理系统**：实时风险评估、止损止盈、VaR计算
- 🔧 **配置管理增强**：配置验证、备份恢复、导入导出功能
- 📈 **性能优化**：异步处理、内存优化、响应速度提升
- 🛡️ **数据安全**：敏感信息保护、配置加密、备份管理

## 📦 安装与运行

### 安装依赖
```bash
pip install -r requirements.txt
```

### 运行程序

#### 方式1：运行Python文件
```bash
python aster_trading_gui_bootstrap.py
```

#### 方式2：运行批处理文件
```bash
运行Bootstrap界面.bat
```

#### 方式3：运行打包后的exe
```
双击 onehopeA9的对冲工具.exe
```

## 🎯 使用步骤

### 1. 首次配置

程序首次运行时会自动创建默认配置，需要：

1. 点击 **"⚙️ 系统配置"** 选项卡
2. 输入两个账户的API信息：
   - 账户名称（自定义）
   - API密钥
   - API Secret
3. 设置交易参数：
   - **交易对**：ETHUSDT（默认）
   - **USDT金额**：每次开仓金额（默认600）
   - **杠杆倍数**：20x（默认）
   - **持仓时间**：601秒（默认）
   - **最大交易次数**：10（默认）
4. 点击 **"💾 保存配置"**

### 2. 启动交易

1. 回到 **"📊 交易仪表板"**
2. 点击 **"▶ 启动交易"** 按钮
3. 系统会自动：
   - 获取账户初始余额
   - 设置杠杆
   - 开始监控资金费率
   - 执行对冲交易

### 3. 监控状态

#### 仪表盘显示
- **当前价格**：实时ETH价格
- **总盈亏**：累计盈亏（已实现+未实现）
- **交易次数**：已完成的交易次数
- **持仓时间**：当前持仓时长

#### 市场信息
- 当前交易对和杠杆
- 实时资金费率
- 账户余额
- 最近交易时间

#### 账户状态表格
- 两个账户的持仓方向
- 持仓数量和开仓价
- 未实现盈亏
- 清算价格

### 4. 停止交易

点击 **"⏹ 停止交易"** 按钮，系统会：
- 自动平掉所有持仓
- 停止交易循环
- 保存最终状态

## 📦 打包成EXE

### 自动打包
```
 pyinstaller build_exe.spec --clean
```

### 手动打包
```bash
pyinstaller --onefile --windowed --name "onehopeA9的对冲工具" --icon=faviconV2.ico --add-data "faviconV2.png;." --add-data "faviconV2.ico;." aster_trading_gui_bootstrap.py
```

### 打包后文件
- **exe位置**：`dist\onehopeA9的对冲工具.exe`
- **文件大小**：约30-50MB
- **包含内容**：所有依赖和图标

## 🔧 配置文件说明

配置文件`config.json`会在首次运行时自动创建：

```json
{
  "account1": {
    "name": "账户1",
    "api_key": "",
    "api_secret": ""
  },
  "account2": {
    "name": "账户2",
    "api_key": "",
    "api_secret": ""
  },
  "trading": {
    "symbol": "ETHUSDT",
    "leverage": 20,
    "usdt_amount": 600,
    "wait_seconds": 601,
    "max_trades": 10
  }
}
```

## 📊 交易策略说明

### 对冲原理
1. **资金费率>0**：账户1做空，账户2做多
2. **资金费率<0**：账户1做多，账户2做空
3. 持仓601秒后自动平仓
4. 赚取资金费率差价

### 风险控制
- 自动检测单边持仓并修复
- 名义价值检查（最小5 USDT）
- API调用超时保护
- 异常自动重试机制

## ⚠️ 注意事项


### 常见问题

**Q: 程序卡住不交易？**
- 检查网络连接
- 查看日志中的错误信息
- 确认API密钥正确

**Q: 打包后图标不显示？**
- 确保faviconV2.ico文件存在
- 重新运行打包脚本

**Q: 如何查看详细日志？**
- 切换到"📝 交易日志"选项卡
- 或运行Python文件查看控制台输出

**Q: 配置文件在哪里？**
- 与exe同目录下的config.json
- 首次运行会自动创建

## 📞 技术支持

- **Twitter**: @onehopeA9
- **问题反馈**: 提供详细的错误日志

## 🎉 特别功能

- 点击界面上的Twitter链接可直接访问
- 支持导出交易日志
- 实时Toast通知提醒
- 深色主题护眼模式

---

## 都看到这了，可以给个关注么 https://x.com/onehopeA9

**免责声明**：本软件仅供学习研究使用，交易有风险，使用需谨慎。用户应自行承担使用本软件产生的所有风险和责任。

**版权说明**：本项目为开源软件，欢迎学习和改进。
